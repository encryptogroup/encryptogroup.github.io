<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ABY Framework: src/examples/millionaire_prob/common/millionaire_prob.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ABY Framework
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Arithmetic Bool Yao Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e931c1a3f0014e624d0645a271726ad2.html">examples</a></li><li class="navelem"><a class="el" href="dir_5089900749596855d19b4bbfd930fd49.html">millionaire_prob</a></li><li class="navelem"><a class="el" href="dir_a0da7c54c8bdcb83cfeb341f3d8bca4c.html">common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">millionaire_prob.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of the millionaire problem using ABY Framework.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="millionaire__prob_8h_source.html">millionaire_prob.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for millionaire_prob.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="millionaire__prob_8cpp__incl.png" border="0" usemap="#src_2examples_2millionaire__prob_2common_2millionaire__prob_8cpp" alt=""/></div>
<map name="src_2examples_2millionaire__prob_2common_2millionaire__prob_8cpp" id="src_2examples_2millionaire__prob_2common_2millionaire__prob_8cpp">
<area shape="rect" id="node2" href="millionaire__prob_8h.html" title="Implementation of the millionaire problem using ABY Framework. " alt="" coords="296,109,419,136"/><area shape="rect" id="node3" href="booleancircuits_8h.html" title="A collection of boolean circuits for boolean and yao sharing in the ABY framework. " alt="" coords="406,348,549,389"/><area shape="rect" id="node27" href="circuit_8h.html" title="Contains the class for generic circuits, which is a super&#45;class of Boolean and Arithmetic circuits..." alt="" coords="246,437,314,464"/><area shape="rect" id="node28" href="arithmeticcircuits_8h.html" title="A collection of boolean circuits for boolean and yao sharing in the ABY framework. " alt="" coords="137,348,279,389"/><area shape="rect" id="node29" href="abyparty_8h.html" title="ABYParty class. " alt="" coords="1285,184,1414,225"/><area shape="rect" id="node4" href="typedefs_8h.html" title="Typedefs Implementation. " alt="" coords="1137,661,1253,688"/><area shape="rect" id="node22" href="abycircuit_8h.html" title="ABYCircuit class. " alt="" coords="246,512,335,539"/><area shape="rect" id="node17" href="timer_8h.html" title="timer Implementation " alt="" coords="1686,736,1749,763"/><area shape="rect" id="node26" href="constants_8h.html" title="File containing all constants used throughout the source. " alt="" coords="619,587,741,613"/><area shape="rect" id="node30" href="crypto_8h.html" title="Crypto primitive class. " alt="" coords="969,512,1111,539"/><area shape="rect" id="node38" href="socket_8h.html" title="Socket Implementation. " alt="" coords="1727,587,1811,613"/><area shape="rect" id="node39" href="thread_8h.html" title="Thread Implementation. " alt="" coords="1941,273,2043,300"/><area shape="rect" id="node41" href="cbitvector_8h.html" title="CBitVector Implementation. " alt="" coords="592,437,715,464"/><area shape="rect" id="node42" href="abysetup_8h.html" title="Contains all methods that are processed during the setup phase of ABY. " alt="" coords="997,437,1083,464"/><area shape="rect" id="node43" href="sharing_8h.html" title="Sharing class. A virtual class that contains the methods which the sharing schemes have to implement..." alt="" coords="837,355,971,382"/><area shape="rect" id="node44" href="boolsharing_8h.html" title="Bool Sharing class. " alt="" coords="808,273,965,300"/><area shape="rect" id="node45" href="yaoclientsharing_8h.html" title="Yao Client Sharing class. " alt="" coords="1257,273,1442,300"/><area shape="rect" id="node46" href="yaoserversharing_8h.html" title="Yao Server Sharing class. " alt="" coords="990,273,1181,300"/><area shape="rect" id="node47" href="arithsharing_8h.html" title="Arithmetic Sharing class. " alt="" coords="625,273,783,300"/><area shape="rect" id="node48" href="yaokey_8h.html" title="YaoKey Implementation. " alt="" coords="1887,512,1995,539"/><area shape="rect" id="node49" href="connection_8h.html" title="connection Implementation " alt="" coords="1735,355,1865,382"/><area shape="rect" id="node36" href="gmp-pk-crypto_8h.html" title="Class with finite&#45;field&#45;cryptography operations (using the GMP library) " alt="" coords="1094,587,1210,613"/><area shape="rect" id="node37" href="ecc-pk-crypto_8h.html" title="Class with ECC operations. " alt="" coords="1235,587,1347,613"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a79e18f7b70c1d7a751b64c1de4ed179d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="millionaire__prob_8cpp.html#a79e18f7b70c1d7a751b64c1de4ed179d">test_millionaire_prob_circuit</a> (e_role role, char *address, <a class="el" href="struct_s_e_c_u_r_i_t_y_l_e_v_e_l_s.html">seclvl</a> <a class="el" href="struct_s_e_c_u_r_i_t_y_l_e_v_e_l_s.html">seclvl</a>, uint32_t nvals, uint32_t bitlen, uint32_t nthreads, <a class="el" href="constants_8h.html#a2b590caca6c63d2d7f8cf769a0882f37">e_mt_gen_alg</a> mt_alg, <a class="el" href="constants_8h.html#a855a4099bbce3f19217e3e50eb6f0706">e_sharing</a> sharing)</td></tr>
<tr class="memdesc:a79e18f7b70c1d7a751b64c1de4ed179d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used for running a testing environment for solving the millionaire's problem.  <a href="#a79e18f7b70c1d7a751b64c1de4ed179d">More...</a><br /></td></tr>
<tr class="separator:a79e18f7b70c1d7a751b64c1de4ed179d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770b6aceb063f3234bb96fb5fe3c6a1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classshare.html">share</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="millionaire__prob_8cpp.html#a770b6aceb063f3234bb96fb5fe3c6a1e">BuildMillionaireProbCircuit</a> (<a class="el" href="classshare.html">share</a> *s_alice, <a class="el" href="classshare.html">share</a> *s_bob, <a class="el" href="class_boolean_circuit.html">BooleanCircuit</a> *bc)</td></tr>
<tr class="memdesc:a770b6aceb063f3234bb96fb5fe3c6a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to build and solve the millionaire's problem.  <a href="#a770b6aceb063f3234bb96fb5fe3c6a1e">More...</a><br /></td></tr>
<tr class="separator:a770b6aceb063f3234bb96fb5fe3c6a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the millionaire problem using ABY Framework. </p>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'sre'+'er'+'am.'+'sa'+'das'+'iv'+'am@'+'ca'+'sed'+'.d'+'e'; return false;">sreer<span style="display: none;">.nosp@m.</span>am.s<span style="display: none;">.nosp@m.</span>adasi<span style="display: none;">.nosp@m.</span>vam@<span style="display: none;">.nosp@m.</span>cased<span style="display: none;">.nosp@m.</span>.de</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>ABY - A Framework for Efficient Mixed-protocol Secure Two-party Computation Copyright (C) 2015 Engineering Cryptographic Protocols Group, TU Darmstadt This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a770b6aceb063f3234bb96fb5fe3c6a1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshare.html">share</a>* BuildMillionaireProbCircuit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshare.html">share</a> *&#160;</td>
          <td class="paramname"><em>s_alice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classshare.html">share</a> *&#160;</td>
          <td class="paramname"><em>s_bob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_boolean_circuit.html">BooleanCircuit</a> *&#160;</td>
          <td class="paramname"><em>bc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to build and solve the millionaire's problem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s_alice</td><td>shared object of alice. </td></tr>
    <tr><td class="paramname">s_bob</td><td>shared object of bob. </td></tr>
    <tr><td class="paramname">bc</td><td>boolean circuit object. </td></tr>
  </table>
  </dd>
</dl>
<p>Calling the greater than equal function in the Boolean circuit class. </p>

</div>
</div>
<a class="anchor" id="a79e18f7b70c1d7a751b64c1de4ed179d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t test_millionaire_prob_circuit </td>
          <td>(</td>
          <td class="paramtype">e_role&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_e_c_u_r_i_t_y_l_e_v_e_l_s.html">seclvl</a>&#160;</td>
          <td class="paramname"><em>seclvl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nvals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bitlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nthreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="constants_8h.html#a2b590caca6c63d2d7f8cf769a0882f37">e_mt_gen_alg</a>&#160;</td>
          <td class="paramname"><em>mt_alg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="constants_8h.html#a855a4099bbce3f19217e3e50eb6f0706">e_sharing</a>&#160;</td>
          <td class="paramname"><em>sharing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used for running a testing environment for solving the millionaire's problem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">role</td><td>role played by the program which can be server or client part. </td></tr>
    <tr><td class="paramname">address</td><td>IP Address </td></tr>
    <tr><td class="paramname">seclvl</td><td>Security level </td></tr>
    <tr><td class="paramname">nvals</td><td>Number of values </td></tr>
    <tr><td class="paramname">bitlen</td><td>Bit length of the inputs </td></tr>
    <tr><td class="paramname">nthreads</td><td>Number of threads </td></tr>
    <tr><td class="paramname">mt_alg</td><td>The algorithm for generation of multiplication triples </td></tr>
    <tr><td class="paramname">sharing</td><td><a class="el" href="class_sharing.html">Sharing</a> type object </td></tr>
  </table>
  </dd>
</dl>
<p>Step 1: Create the <a class="el" href="class_a_b_y_party.html">ABYParty</a> object which defines the basis of all the operations which are happening. Operations performed are on the basis of the role played by this object.</p>
<p>Step 2: Get to know all the sharing types available in the program.</p>
<p>Step 3: Create the circuit object on the basis of the sharing type being inputed.</p>
<p>Step 4: Creating the share objects - s_alice_money, s_bob_money which is used as input to the computation function. Also s_out which stores the output.</p>
<p>Step 5: Initialize Alice's and Bob's money with random values. Both parties use the same seed, to be able to verify the result. In a real example each party would only supply one input value.</p>
<p>Step 6: Copy the randomly generated money into the respective share objects using the circuit object method PUTInGate(). Also mention who is sharing the object. The value for the party different from role is ignored, but PutINGate() must always be called for both roles.</p>
<p>Step 7: Call the build method for building the circuit for the problem by passing the shared objects and circuit object. Don't forget to type cast the circuit object to type of share</p>
<p>Step 8: Modify the output receiver based on the role played by the server and the client. This step writes the output to the shared output object based on the role.</p>
<p>Step 9: Executing the circuit using the <a class="el" href="class_a_b_y_party.html">ABYParty</a> object evaluate the problem.</p>
<p>Step 10:Type casting the value to 32 bit unsigned integer for output.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 23 2015 19:14:06 for ABY Framework by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
